import{u as v,j as a,a as e,H as f,__tla as k}from"./app-916a4f72.js";import{A as _,R as C,__tla as S}from"./Authenticated-e9163b2f.js";import{I as L,a as O}from"./InputError-ff429324.js";import{S as w}from"./react-select.esm-64f92a33.js";import{C as A}from"./Checkbox-c4dfde53.js";import{$ as r}from"./jquery-742a9c54.js";import{C as M}from"./Paginate-550ad28d.js";import{T as B,C as l}from"./TabelSearchBox-9a07366a.js";import"./setPrototypeOf-51e8cf87.js";import"./transition-cd097f7e.js";import"./hoist-non-react-statics.cjs-585a791f.js";import"./TextInput-8e4ec303.js";let m,D=Promise.all([(()=>{try{return k}catch{}})(),(()=>{try{return S}catch{}})()]).then(async()=>{m=function(t){const{data:c,setData:n,errors:p,post:h}=v({clients:"",group_id:""}),u=s=>{n("group_id",s.value)},b=s=>{let i=s.target.value;s.target.checked?n("clients",[...c.clients,i]):n("clients",c.clients.filter(d=>d!==i))};function y(){r(".alert").remove(),c.clients==""?r("<div class='alert alert-danger'>Please select any client</div>").insertBefore("main"):r("#exampleModalButton").trigger("click")}function N(s){s.preventDefault(),h(route("clients.client-groups-bind")),r("#exampleModalButton").trigger("click")}function x(){let s=[];t.clients.data.map(i=>s.push(String(i.id))),n("clients",s),r("#unselectAll").show(),r("#selectAll").hide(),r("input[type='checkbox']").prop("checked",!0)}function g(){n("clients",[]),r("#unselectAll").hide(),r("#selectAll").show(),r("input[type='checkbox']").prop("checked",!1)}return a(_,{props:t,auth:t.auth,errors:t.errors,header:"Clients",children:[e(f,{title:"Clients"}),e("button",{type:"button",id:"exampleModalButton",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#exampleModal",style:{display:"none"},children:"Launch demo modal"}),e("div",{className:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e("div",{className:"modal-dialog",children:e("div",{className:"modal-content",children:a("form",{name:"createForm",onSubmit:N,children:[a("div",{className:"modal-header",children:[e("h5",{className:"modal-title",id:"exampleModalLabel",children:"Bind Group"}),e("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a("div",{className:"modal-body",children:[e("div",{children:"Please select the group name."}),e("div",{className:"row g-3 my-2",children:e("div",{className:"col-md-12",children:a("div",{className:"mb-3",children:[e(L,{value:"Group"}),e(w,{className:"basic-single",classNamePrefix:"select",name:"group_id",options:t.groups,onChange:u}),e(O,{message:p.group_id,className:"mt-2"})]})})})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),e("button",{type:"submit",className:"btn btn-primary",children:"Save changes"})]})]})})})}),C.roles.clients==2&&e("div",{className:"flex items-center justify-between mb-6 float-end",children:e("a",{className:"px-6 py-2 text-white bg-green-500 rounded-md focus:outline-none text-decoration-none",href:"javascript:void(0)",onClick:y,children:"Bind Group"})}),a("div",{className:"table-responsive",children:[e(B,{s:t.s,o:t.o,ob:t.ob,route:"clients"}),a("table",{className:"table",children:[e("thead",{className:"table-light",children:a("tr",{children:[a("th",{className:"px-2 py-2 w-10",children:[e("a",{className:"p-1 text-white bg-green-500 rounded-md focus:outline-none text-decoration-none",href:"javascript:void(0)",onClick:x,id:"selectAll",children:"Check"}),e("a",{className:"p-1 text-white bg-green-500 rounded-md focus:outline-none text-decoration-none",href:"javascript:void(0)",onClick:g,id:"unselectAll",style:{display:"none"},children:"Uncheck"})]}),e("th",{className:"px-2 py-2",children:l.makeSortOrderLink("ID","clients","id",t.s,t.o,t.ob)}),e("th",{className:"px-2 py-2",children:l.makeSortOrderLink("Username","clients","username",t.s,t.o,t.ob)}),e("th",{className:"px-2 py-2",children:l.makeSortOrderLink("Client ID","clients","client_id",t.s,t.o,t.ob)}),e("th",{className:"px-2 py-2",children:l.makeSortOrderLink("Client","clients","name",t.s,t.o,t.ob)}),e("th",{className:"px-2 py-2",children:l.makeSortOrderLink("Server ID","clients","server_id",t.s,t.o,t.ob)}),e("th",{className:"px-2 py-2",children:l.makeSortOrderLink("Group","clients","group",t.s,t.o,t.ob)}),e("th",{className:"px-2 py-2",children:"Setting"}),e("th",{className:"px-2 py-2",children:l.makeSortOrderLink("IPv4","clients","ipaddress",t.s,t.o,t.ob)}),e("th",{className:"px-2 py-2",children:l.makeSortOrderLink("OS","clients","os_version",t.s,t.o,t.ob)}),e("th",{className:"px-2 py-2",children:"Deployed"}),e("th",{className:"px-2 py-2",children:"Remark"})]})}),e("tbody",{children:t.clients.data.map(s=>{var i,d,o;return a("tr",{children:[e("td",{className:"border px-2 py-2",children:e(A,{name:"client[]",value:s.id,handleChange:b})}),e("td",{className:"border px-2 py-2",children:s.id}),e("td",{className:"border px-2 py-2",children:s.user.username}),e("td",{className:"border px-2 py-2",children:a("span",{"data-title":s.client_id,children:[s.client_id.substring(0,8),"..."]})}),e("td",{className:"border px-2 py-2",children:s.name}),e("td",{className:"border px-2 py-2",children:a("span",{"data-title":s.server_id,children:[s.server_id.substring(0,8),"..."]})}),e("td",{className:"border px-2 py-2",children:(i=s==null?void 0:s.group)==null?void 0:i.name}),e("td",{className:"border px-2 py-2",children:(o=(d=s==null?void 0:s.group)==null?void 0:d.setting)==null?void 0:o.name}),e("td",{className:"border px-2 py-2",children:s.ipaddress}),e("td",{className:"border px-2 py-2",children:s.os_version}),e("td",{className:"border px-2 py-2"}),e("td",{className:"border px-2 py-2"})]})})})]}),e(M,{datas:t.clients})]})]})}});export{D as __tla,m as default};
